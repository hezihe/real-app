(this["webpackJsonpreal-app"]=this["webpackJsonpreal-app"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"a":"http://localhost:8181/api"}')},51:function(e,t,a){},52:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(26),c=a.n(n),i=(a(51),a(4)),o=a(5),l=a(7),d=a(6),u=(a(52),a(8)),b=a(0),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={},e.handleClick=function(t){e.state.linkDisabled&&t.preventDefault()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user;return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-primary shadow-sm",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(u.b,{className:"navbar-brand",to:"/",children:"Business Cards App"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{className:"nav-link",to:"/about",children:"About"})}),Object(b.jsx)("li",{className:"nav-item",children:e&&Object(b.jsx)(u.c,{className:"nav-link",to:"/all-cards",children:"All Cards"})}),Object(b.jsx)("li",{className:"nav-item",children:e&&e.biz&&Object(b.jsx)(u.c,{className:"nav-link",to:"/my-cards",children:"My Cards"})}),Object(b.jsx)("li",{className:"nav-item",children:e&&Object(b.jsx)(u.c,{className:"nav-link",to:"/favorites",children:"My Favorites"})})]}),Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[!e&&Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{className:"nav-link",to:"/signin",children:"Signin"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{className:"nav-link",to:"/signup",children:"Signup"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{className:"nav-link",to:"/biz-signup",children:"Business"})})]}),e&&Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(u.c,{onClick:this.handleClick,className:"nav-link",to:"/",children:[e.name,"'s Profile"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{className:"nav-link",to:"/logout",children:"Logout"})})]})]})]})]})})}}]),a}(r.Component),h=function(){return Object(b.jsxs)("p",{className:"border-top pt-3 text-center",children:["Business Cards App \xa9 ",(new Date).getFullYear()]})},m=function(e){var t=e.titleText;return Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12 mt-4",children:Object(b.jsx)("h1",{className:"text-primary",children:t})})})},p=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Welcome to Business Cards App"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Create your own business card for free!!"})})}),Object(b.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/09/17/12/02/business-card-943996_960_720.jpg",className:"img-fluid",alt:"homeBusinessCard"})]})}}]),a}(r.Component),v=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"About Business Cards App"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("article",{children:"Create a business card like a professional business card designer and easily print it. Digital business card are very useful to share contacts."})})})]})}}]),a}(r.Component),f=a(2),O=a.n(f),x=a(14),g=a(9),N=a(3),y=a.n(N),w=a(24),C=a(45),k=a(28),z=function(e){var t=e.name,a=e.label,r=e.error,s=Object(k.a)(e,["name","label","error"]);return Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:t,children:a}),Object(b.jsx)("input",Object(x.a)(Object(x.a)({},s),{},{name:t,id:t,className:"form-control"})),r&&Object(b.jsx)("span",{className:"text-danger",children:r})]})},S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={data:{},errors:{}},e.validate=function(){var t=y.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,r={},s=Object(C.a)(t.details);try{for(s.s();!(a=s.n()).done;){var n=a.value;r[n.path[0]]=n.message}}catch(c){s.e(c)}finally{s.f()}return r},e.validateProperty=function(t){var a=t.name,r=t.value,s=Object(w.a)({},a,r),n=Object(w.a)({},a,e.schema[a]),c=y.a.validate(s,n).error;return c?c.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,r=Object(x.a)({},e.state.errors),s=e.validateProperty(a);s?r[a.name]=s:delete r[a.name];var n=Object(x.a)({},e.state.data);n[a.name]=a.value,e.setState({data:n,errors:r})},e}return Object(o.a)(a,[{key:"renderButton",value:function(e){return Object(b.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=this.state,s=r.data,n=r.errors;return Object(b.jsx)(z,{type:a,name:e,value:s[e],label:t,onChange:this.handleChange,error:n[e]})}}]),a}(r.Component),B=a(20),A=a.n(B),I=a(13),P=a(12),D=a(46),F="token";function T(){return(T=Object(g.a)(O.a.mark((function e(t,a){var r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.post("".concat(P.a,"/auth"),{email:t,password:a});case 2:r=e.sent,s=r.data,localStorage.setItem(F,s.token);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q={login:function(e,t){return T.apply(this,arguments)},getCurrentUser:function(){try{var e=localStorage.getItem(F);return Object(D.a)(e)}catch(t){return null}},logout:function(){localStorage.removeItem(F)},getJwt:function(){return localStorage.getItem(F)}};A.a.defaults.headers.common["x-auth-token"]=q.getJwt(),A.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=403&&I.b.error("An unexpected error occurred."),Promise.reject(e)}));var M={get:A.a.get,post:A.a.post,put:A.a.put,patch:A.a.patch,delete:A.a.delete},_=a(10),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={data:{email:"",password:"",name:""},errors:{}},e.schema={email:y.a.string().required().email().label("Email"),password:y.a.string().required().min(6).label("Password"),name:y.a.string().required().min(2).label("Name")},e.doSubmit=Object(g.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(x.a)({},e.state.data)).biz=!1,t.prev=2,t.next=5,M.post("".concat(P.a,"/users"),a);case 5:Object(I.b)("".concat(a.name,", you registered successfully!"),{autoClose:2500}),e.props.history.replace("/signin"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&e.setState({errors:{email:t.t0.response.data}});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),e}return Object(o.a)(a,[{key:"render",value:function(){return q.getCurrentUser()?Object(b.jsx)(_.a,{to:"/"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Signup for Business Cards App"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"You can open new account for free!"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("email","Email","email"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Signup")]})})})]})}}]),a}(S),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={data:{email:"",password:""},errors:{}},e.schema={email:y.a.string().required().email().label("Email"),password:y.a.string().required().min(6).label("Password")},e.doSubmit=Object(g.a)(O.a.mark((function t(){var a,r,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.data,r=a.email,s=a.password,t.prev=1,t.next=4,q.login(r,s);case 4:window.location="/",t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&400===t.t0.response.status&&e.setState({errors:{email:t.t0.response.data}});case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),e}return Object(o.a)(a,[{key:"render",value:function(){return q.getCurrentUser()?Object(b.jsx)(_.a,{to:"/"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Signin for Business Cards App"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"You can signin here with your account!"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("email","Email","email"),this.renderInput("password","Password","password"),this.renderButton("Signin")]})})})]})}}]),a}(S),U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){q.logout(),window.location="/signin"}},{key:"render",value:function(){return null}}]),a}(r.Component),Y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={data:{email:"",password:"",name:""},errors:{}},e.schema={email:y.a.string().required().email().label("Email"),password:y.a.string().required().min(6).label("Password"),name:y.a.string().required().min(2).label("Name")},e.doSubmit=Object(g.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(x.a)({},e.state.data)).biz=!0,t.prev=2,t.next=5,M.post("".concat(P.a,"/users"),a);case 5:return t.next=7,q.login(a.email,a.password);case 7:window.location="/create-card",t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&e.setState({errors:{email:t.t0.response.data}});case 13:case"end":return t.stop()}}),t,null,[[2,10]])}))),e}return Object(o.a)(a,[{key:"render",value:function(){return q.getCurrentUser()?Object(b.jsx)(_.a,{to:"/"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Business Registration Form"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"You can open new business account for free!"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("email","Email","email"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Next")]})})})]})}}]),a}(S);var R={createCard:function(e){return M.post("".concat(P.a,"/cards"),e)},getMyCards:function(){return M.get("".concat(P.a,"/cards/my-cards"))},editCard:function(e){var t=e._id;return delete e._id,M.put("".concat(P.a,"/cards/").concat(t),e)},getCard:function(e){return M.get("".concat(P.a,"/cards/").concat(e))},deleteCard:function(e){return M.delete("".concat(P.a,"/cards/").concat(e))},getAllCards:function(){return M.get("".concat(P.a,"/cards/all-cards"))},getFavsList:function(){return M.get("".concat(P.a,"/users/cards/my-favs"))},pushFavNum:function(e){return M.patch("".concat(P.a,"/users/cards"),e)},pushFavCards:function(e){return M.patch("".concat(P.a,"/users/cards/stay"),e)},deleteFavNum:function(e){return M.patch("".concat(P.a,"/users/cards/favs"),e)},getMyFavorites:function(){return M.get("".concat(P.a,"/users/cards/num"))}},J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={data:{bizName:"",bizDescription:"",bizAddress:"",bizPhone:"",bizImage:""},errors:{}},e.schema={bizName:y.a.string().min(2).max(255).required(),bizDescription:y.a.string().min(2).max(1024).required(),bizAddress:y.a.string().min(2).max(400).required(),bizPhone:y.a.string().min(9).max(10).required().regex(/^0[2-9]\d{7,8}$/),bizImage:y.a.string().min(11).max(1024).uri().allow("")},e.doSubmit=Object(g.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(x.a)({},e.state.data)).bizImage||delete a.bizImage,t.next=4,R.createCard(a);case 4:Object(I.b)("Your card has been created",{autoClose:2500}),e.props.history.replace("/my-cards");case 6:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Create Card Form"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Fill your business card details here"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("bizName","Business Name"),this.renderInput("bizDescription","Business Description"),this.renderInput("bizAddress","Business Address"),this.renderInput("bizPhone","Business Phone"),this.renderInput("bizImage","Business Image"),this.renderButton("Create Card"),Object(b.jsx)(u.b,{className:"btn btn-secondary ml-2",to:"/my-cards",children:"Cancel"})]})})})]})}}]),a}(S),H=a(15),V=function(e){var t=e.card,a=e.handleCardDelete;return Object(b.jsx)("div",{className:"col-md-6 col-lg-4 mt-3",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{width:"150",className:"p-2",src:t.bizImage,alt:t.bizName}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title text-primary",children:t.bizName}),Object(b.jsx)("p",{className:"card-text",children:t.bizDescription}),Object(b.jsxs)("p",{className:"card-text border-top pt-2",children:[Object(b.jsx)("b",{children:"Tel: "}),t.bizPhone,Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Address:"})," ",t.bizAddress," ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Card #:"})," ",t.bizNumber," ",Object(b.jsx)("br",{})]}),Object(b.jsxs)(u.b,{className:"btn btn-primary",to:"/my-cards/edit/".concat(t._id),children:[Object(b.jsx)("i",{className:"far fa-edit",children:" "})," Edit"]}),"  ",Object(b.jsxs)("a",{className:"ml-1 btn btn-danger",href:"/",onClick:function(e){return a(t._id,t.bizNumber,e)},children:[Object(b.jsx)("i",{className:"fas fa-trash-alt"})," Delete"]})]})]})})},$=a(22),W=a.n($),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={cards:[]},e.handleCardDelete=function(){var t=Object(g.a)(O.a.mark((function t(a,r,s){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(r),s.preventDefault(),W.a.fire({title:"Are you sure you want to delete this card ?",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"#dc3545"}).then(function(){var t=Object(g.a)(O.a.mark((function t(s){var n,c,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.isConfirmed){t.next=12;break}return n=(n=Object(H.a)(e.state.cards)).filter((function(e){return e._id!==a})),e.setState({cards:n}),t.next=6,R.deleteCard(a);case 6:return Object(I.b)("Card has been deleted succesfully",{autoClose:2500}),t.next=9,R.deleteFavNum({favNum:r});case 9:c=t.sent,i=c.data,console.log(i);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getMyCards();case 2:t=e.sent,(a=t.data).length>0&&this.setState({cards:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.cards;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Your Cards List"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Here you can view your cards list"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:Object(b.jsxs)(u.b,{className:"btn btn-primary",to:"/create-card",children:[Object(b.jsx)("i",{className:"fas fa-plus-circle"}),Object(b.jsx)("span",{className:"ml-1",children:"Add Card"})]})})})}),Object(b.jsx)("div",{className:"row",children:t.length>0&&t.map((function(t){return Object(b.jsx)(V,{card:t,handleCardDelete:e.handleCardDelete},t._id)}))})]})}}]),a}(r.Component),K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={data:{bizName:"",bizDescription:"",bizAddress:"",bizPhone:"",bizImage:""},errors:{}},e.schema={_id:y.a.string(),bizName:y.a.string().min(2).max(255).required(),bizDescription:y.a.string().min(2).max(1024).required(),bizAddress:y.a.string().min(2).max(400).required(),bizPhone:y.a.string().min(9).max(10).required().regex(/^0[2-9]\d{7,8}$/),bizImage:y.a.string().min(11).max(1024).uri().allow("")},e.doSubmit=Object(g.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.data,t.next=3,R.editCard(a);case 3:Object(I.b)("Card details updated",{autoClose:2500}),e.props.history.replace("/my-cards");case 5:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,R.getCard(t);case 3:a=e.sent,r=a.data,this.setState({data:this.mapToViewModel(r)});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mapToViewModel",value:function(e){return{_id:e._id,bizName:e.bizName,bizDescription:e.bizDescription,bizAddress:e.bizAddress,bizPhone:e.bizPhone,bizImage:e.bizImage}}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Edit Card Form"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Update your card details here."})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("bizName","Business Name"),this.renderInput("bizDescription","Business Description"),this.renderInput("bizAddress","Business Address"),this.renderInput("bizPhone","Business Phone"),this.renderInput("bizImage","Business Image"),this.renderButton("Update Card"),Object(b.jsx)(u.b,{className:"btn btn-secondary ml-2",to:"/my-cards",children:"Cancel"})]})})})]})}}]),a}(S),Q=function(e){var t=e.card,a=e.handleFavorite,r=e.favorites,s=e.favsParam,n=e.handleCardRemove,c=0;return r.map((function(e){e===t.bizNumber&&(c=1)})),Object(b.jsx)("div",{className:"col-md-6 col-lg-4 mt-3",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"row",class:"float-right",position:"relative",children:[Object(b.jsx)("img",{width:"100",src:t.bizImage,alt:t.bizName}),!c&&r.length>=0&&Object(b.jsxs)("a",{className:"btn btn-primary ml-1 float-right",href:"/",onClick:function(e){return a(t.bizNumber,e)},children:[Object(b.jsx)("i",{className:"fas fa-bookmark"})," Bookmark"]}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:t.bizName}),Object(b.jsxs)("p",{className:"card-text",children:[t.bizDescription," "]}),Object(b.jsxs)("p",{className:"card-text border-top pt-2",children:[Object(b.jsx)("b",{children:"Tel: "})," ",t.bizPhone," ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Address:"})," ",t.bizAddress," ",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Card #:"})," ",t.bizNumber," ",Object(b.jsx)("br",{})]})]}),!s&&Object(b.jsxs)("a",{className:"btn btn-danger ml-3 float-right",href:"/",onClick:function(e){return n(t.bizNumber,e)},children:[Object(b.jsx)("i",{className:"fas fa-trash-alt"})," Remove"]})]})})})},X=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={cards:[],cards2:[],favorites:[],errors:{},data:{search:""},favsParam:1},e.schema={search:y.a.string().required().label("Search")},e.handleFavorite=function(){var t=Object(g.a)(O.a.mark((function t(a,r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),W.a.fire({title:"Do you want to add this card as favorite ?",showCancelButton:!0,confirmButtonText:"YES",confirmButtonColor:"#dc3545"}).then(function(){var t=Object(g.a)(O.a.mark((function t(r){var s,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.isConfirmed&&(e.state.favorites.length>=0&&((s=Object(H.a)(e.state.favorites)).push(a),e.setState({favorites:s})),n=R.pushFavNum({cardNumber:a}),console.log(e.state.favorites),console.log(n),Object(I.b)("The Bookmark was added succesfully",{autoClose:2500}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getAllCards();case 2:return t=e.sent,(a=t.data).length>0&&this.setState({cards:a}),e.next=7,R.getFavsList();case 7:(r=e.sent).data.length>0&&this.setState({favorites:r.data}),console.log(r.data);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doSubmit",value:function(){var e=this.state.data.search,t=Object(H.a)(this.state.cards).filter((function(t){return t.bizName.toLowerCase().includes(e)}));console.log(t),this.setState({cards2:t})}},{key:"sortByName",value:function(){var e=Object(H.a)(this.state.cards);return this.state.cards2.length>0&&(e=Object(H.a)(this.state.cards2)),console.log(e),e}},{key:"render",value:function(){var e=this,t=this.sortByName();"all"===this.state.data.search&&(t=Object(H.a)(this.state.cards));var a=Object(H.a)(this.state.favorites);return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"All Cards List"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Here you can view All Cards list"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("search","Look for a word of business name"),Object(b.jsx)("p",{className:"text-danger",children:'Note: Use only lowercase letters for search, enter "all" to see all cards'}),this.renderButton("Search")]})})}),Object(b.jsx)("div",{className:"row",children:t.length>0&&t.map((function(t){return Object(b.jsx)(Q,{favsParam:e.state.favsParam,card:t,favorites:a,handleFavorite:e.handleFavorite},t._id)}))})]})}}]),a}(S),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={cards:[],cards2:[],favorites:[],errors:{},data:{search:""},favsParam:0},e.schema={search:y.a.string().required().label("Search")},e.handleCardRemove=function(){var t=Object(g.a)(O.a.mark((function t(a,r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),W.a.fire({title:"Do you want to remove this card from Bookmark ?",showCancelButton:!0,confirmButtonText:"YES",confirmButtonColor:"#dc3545"}).then(function(){var t=Object(g.a)(O.a.mark((function t(r){var s,n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.isConfirmed&&(e.state.favorites.length>=0&&(s=Object(H.a)(e.state.favorites),n=s.filter((function(e){return e!==a})),e.setState({favorites:n})),c=R.pushFavCards({arr:e.state.favorites}),console.log(c.data),e.convertFavToCards(e.state.favorites),console.log(e.state.favorites),Object(I.b)("The Bookmark was removed succesfully",{autoClose:2500}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getFavsList();case 2:if((t=e.sent).data.length>0&&this.setState({favorites:t.data}),console.log(t.data),!(t.data.length>0)){e.next=11;break}return e.next=8,R.getAllCards();case 8:a=e.sent,(r=a.data).length>0&&this.setState({cards:r});case 11:this.convertFavToCards(t.data);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"convertFavToCards",value:function(e){var t=this.state.cards.filter((function(t){return e.includes(t.bizNumber)}));console.log(t),t.length>=0&&this.setState({cards:t})}},{key:"doSubmit",value:function(){var e=this.state.data.search,t=Object(H.a)(this.state.cards).filter((function(t){return t.bizName.toLowerCase().includes(e)}));console.log(t),this.setState({cards2:t})}},{key:"sortByName",value:function(){var e=Object(H.a)(this.state.cards);return this.state.cards2.length>0&&(e=Object(H.a)(this.state.cards2)),console.log(e),e}},{key:"render",value:function(){var e=this,t=this.sortByName();"all"===this.state.data.search&&(t=Object(H.a)(this.state.cards));var a=Object(H.a)(this.state.favorites);return console.log(t),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(m,{titleText:"Your Favorites Cards"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("p",{children:"Here you can view your favorites Cards list"})})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",method:"POST",children:[this.renderInput("search","Look for a word of business name"),Object(b.jsx)("p",{className:"text-danger",children:'Note: Use only lowercase letters for search, enter "all" to see all cards'}),this.renderButton("Search")]})})}),Object(b.jsx)("div",{className:"row",children:t.length>0&&t.map((function(t){return Object(b.jsx)(Q,{favsParam:e.state.favsParam,card:t,favorites:a,handleFavorite:e.handleFavorite,handleCardRemove:e.handleCardRemove},t._id)}))})]})}}]),a}(S),ee=(a(77),function(e){e.path;var t=e.component,a=e.render,r=Object(k.a)(e,["path","component","render"]),s=q.getCurrentUser();return Object(b.jsx)(_.b,Object(x.a)(Object(x.a)({},r),{},{render:function(e){return!s||r.biz&&!s.biz?Object(b.jsx)(_.a,{to:{pathname:"/signin",state:{from:e.location}}}):t?Object(b.jsx)(t,Object(x.a)({},e)):a(e)}}))}),te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=q.getCurrentUser();this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsx)(I.a,{}),Object(b.jsx)("header",{children:Object(b.jsx)(j,{user:e})}),Object(b.jsx)("main",{className:"minh-900",children:Object(b.jsxs)(_.d,{children:[Object(b.jsx)(ee,{path:"/my-cards/edit/:id",component:K,biz:!0}),Object(b.jsx)(ee,{path:"/my-cards",component:G,biz:!0}),Object(b.jsx)(ee,{path:"/create-card",component:J,biz:!0}),Object(b.jsx)(_.b,{path:"/favorites",component:Z}),Object(b.jsx)(_.b,{path:"/all-cards",component:X}),Object(b.jsx)(_.b,{path:"/biz-signup",component:Y}),Object(b.jsx)(_.b,{path:"/logout",component:U}),Object(b.jsx)(_.b,{path:"/signin",component:L}),Object(b.jsx)(_.b,{path:"/signup",component:E}),Object(b.jsx)(_.b,{path:"/about",component:v}),Object(b.jsx)(_.b,{path:"/",exact:!0,component:p})]})}),Object(b.jsx)("footer",{children:Object(b.jsx)(h,{})})]})}}]),a}(r.Component),ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))};a(78),a(79),a(43),a(80);c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(te,{})})}),document.getElementById("root")),ae()}},[[82,1,2]]]);
//# sourceMappingURL=main.d4be046c.chunk.js.map